<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Create multi-screen experiences for the new mobile web</title>
  <link rel="stylesheet" href="style.css">
  <script src="remark.min.js"></script>
  <script src="sync.js"></script>
  <script>
    function create() {
      let slideshow = remark.create({
        source: "title: Create multi-screen experiences for the new mobile web\nclass: animation-fade\nlayout: true\n\n.twitter-handle[\n  @olivierleplus\n]\n\n<!--\n\n# Historique(s) 5min - Yohan\n- Web/RD + GameWatch/Nintendo DS\n* From desktop first to mobile first\n* demain? foldavle first?\n\n# Etat de l'art: c'est pas sec 5min - Olivier\n* Window Segment + CSS primitives\n* Device Posture\n+ question dev\n\n# Demo: plouf 10min - Olivier\nVanilla HTML/JS/CSSx\n\n# UI/patterns 5min / tous les 2 / images\n* discussion? qu'est ce que vous avez en tete?\n * list/detail\n * 1 ecran a la fois\n * twitch + comments\n * jeux videos/MK/bataille navale\n+ question dev\n\n# Comment on dev? 10min - Yohan\n- Tools/emulateurs + SETUP EMULATOR\n- Polyfills / CS JSS\n- Problemes\n+ question dev\n\n# NGX foldable/React 10min - Yohan\n- Demo gallery app\n\n-->\n\n---\n\nexclude: true\nclass: left, hide-handle, middle, overlay-grey2\nbackground-image: url(images/broken.jpg)\n\n.title-new[\n# .light-text[J'ai pli√© mon smartphone et<br>il ne s'est pas cass√©...]\n.space-top[# .alt-text.bit-larger[...mais mon app si üôÅ]]\n<br>\n]\n\n.full-layer.bottom.space-left[\n.w-15.responsive[![](./images/ces-logo.svg)]\n]\n\n.full-layer.who.text-right.small.middle.light-text[\n  Olivier Leplus\n]\n\n---\n\nclass: left, hide-handle, middle, overlay-grey\nbackground-image: url(images/windows.jpg)\n\n.title-new[\n# .light-text.bit-larger[Create multi-screen experiences]\n.space-top[# .alt-text.bit-larger[For the new mobile web]]\n<br>\n]\n\n\n.full-layer.who.text-right.small.middle.light-text[\n  @olivierleplus\n]\n\n\n---\n\nclass: center, middle, hide-handle\n# Who am I?\n\n.table.row.middle[\n.col-4.center[\n  .w-70.responsive.avatar.tada.animated[![](images/olivier.jpg)]\n]\n.col-8.bit-larger.left[\n  .e[Olivier Leplus]<br>\n  .bit-larger[\\[ DevRel - .mini-img[![](images/ms.png) Microsoft] \\]]<br>\n  .small.em-text[GDE Web, Geek, Community lover]<br>\n]\n]\n.center.bit-larger[\n.large.em-text[{]\n.fab.fa-twitter[]\n.large.em-text[}] .e[@olivierleplus]<br>\n]\n\n\n---\n\nexclude: true\nclass: center, middle, hide-handle\n# Who are we?\n\n.table.row.middle.center[\n.col-2[]\n.col-4.center[\n  .w-70.responsive.avatar[![](images/photo.jpg)]\n\n  **Yohan Lasorsa**<br>\n  .fab.fa-twitter[] .e[@sinedied]\n]\n.col-4.center[\n  .w-70.responsive.avatar[![](images/olivier.jpg)]\n\n  **Olivier Leplus**<br>\n  .fab.fa-twitter[] .e[@olivierleplus]\n]\n]\n\n.large[üëâ [aka.ms/foldable-feedback](https://aka.ms/foldable-feedback) üëà]\n\n---\n\nclass: impact\n## .large[Dual screen devices?]\n\n---\n\nclass: contain, middle\nbackground-image: url(./images/gw.jpg)\n\n--\n# .large[1982]\n\n---\n\nclass: contain, middle\nbackground-image: url(./images/ds-fat.jpg)\n\n???\ntactile!\n\n--\n# .large[2004]\n\n---\n\nclass: contain, middle\nbackground-image: url(./images/3ds.jpg)\n\n--\n# .large[2010]\n\n???\n3DS: 2010, has web browser!\n\n---\n\nclass: contain\nbackground-image: url(./images/duo.jpg)\n\n???\n2020\n\n---\n\nbackground-image: url(./images/new-devices-dual.jpg)\n\n---\n\nclass: impact\n## .large[So, where to begin?]\n\n---\n\nclass: middle, center\n# Another responsive design target?\n\n.center[\n  .responsive[![](./images/responsive.png)]\n]\n\n---\n\nclass: full, middle, center, overlay-dark\nbackground-image: url(./images/experimental.jpg)\n\n# .large[‚ö†Ô∏è]\n# Experimental APIs ahead\n\n---\n\nclass: small-handle\n# So, media queries it is!\n\n```css\n@media (screen-spanning: single-fold-vertical) { ... }\n@media (screen-spanning: single-fold-horizontal) { ... }\n\n```\n\n.center[\n  .w-60.responsive[![](./images/spanning-media-query.svg)]\n]\n\n.full-layer.stick-bottom.space-left[\n.small.no-margin[\n[aka.ms/foldable/css-primitives](https://aka.ms/foldable/css-primitives)<br>[aka.ms/docs/css-primitives](https://aka.ms/docs/css-primitives)\n]\n]\n\n---\n\nclass: middle, center\n# But... things moves fast\n\n---\n\nclass: small-handle, center\n# New media queries...\n\n.col-6.float-left.space-right[\n```css\n@media (horizontal-viewport-segments:2) \nand \n@media (vertical-viewport-segments:1);\n```\n\n.center[\n  .w-70.responsive[![](./images/horizontal-viewport.png)]\n]\n]\n\n.col-6.float-left[\n```css\n@media (horizontal-viewport-segments:1) \nand \n@media (vertical-viewport-segments:2);\n```\n\n.center[\n  .w-70.responsive[![](./images/vertical-viewport.png)]\n]\n]\n\n---\n\nclass: small-handle, center\n\n# ...Opening up new possibilities?\n```css\n@media (horizontal-viewport-segments:2) and @media (vertical-viewport-segments:2);\n```\n\n--\n.center.no-margin[\n  .w-30.responsive[![](./images/crazy-1.png)]\n]\n--\n.center.no-margin[\n  .w-30.up.responsive[![](./images/crazy-2.png)]\n]\n\n---\n\n# Environment variables\n\n```css\nenv(viewport-segment-width <x> <y>);\nenv(viewport-segment-height <x> <y>);\nenv(viewport-segment-top <x> <y>);\nenv(viewport-segment-left <x> <y>);\nenv(viewport-segment-bottom <x> <y>);\nenv(viewport-segment-right <x> <y>);\n```\n\n.center[\n.w-60.responsive[![](./images/env-grid.png)]\n]\n\n---\n\nclass: impact\n## .large[What about the JavaScript side?]\n\n---\n\n# Window Segments API\n\n.full-layer.stick-bottom.space-left[\n.small.no-margin.text-left.margin-left[\n[aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\n]\n]\n\n```js\nconst screenSegments = window.getWindowSegments();\n```\n\n--\n\n<br>\n\n.center.large[\n  üëÜ *But that was before community feedback...*\n]\n\n---\n\n# Visual Viewport Window Segments API\n\n.full-layer.stick-bottom.space-left[\n.small.no-margin.text-left.margin-left[\n[aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\n]\n]\n\n```js\nconst screenSegments = window.visualViewport.segments;\n```\n\n---\n\n# Visual Viewport Window Segments API\n\n.full-layer.stick-bottom.space-left[\n.small.no-margin.text-left.margin-left[\n[aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\n]\n]\n\n```js\nconst screenSegments = window.visualViewport.segments; // => null || DOMRect[]\n\nif (screenSegments.length > 1) {\n  // It's a foldable device !\n\n\n\n\n\n\n\n}\n```\n\n---\n\n# Visual Viewport Window Segments API\n\n.full-layer.stick-bottom.space-left[\n.small.no-margin.text-left.margin-left[\n[aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\n]\n]\n\n```js\nconst screenSegments = window.visualViewport.segments; // => null || DOMRect[]\n\nif (screenSegments.length > 1) {\n  // It's a foldable device !\n  for (let i = 0; i < screenSegments.length; i++) {\n    console.log(`Screen segment ${i}:`);\n    console.log('- width   : ' + screenSegments[i].width);\n    console.log('- height  : ' + screenSegments[i].height);\n    console.log('- x origin: ' + screenSegments[i].x);\n    console.log('- y origin: ' + screenSegments[i].y);\n  }\n}\n```\n\n--\n\n.full-layer.text-right.space-right[\n  <div style=\"height: 7em\"></div>\n  .w-20.responsive[![](./images/diff-screens.png)]\n]\n\n---\n\n# .small[`window.visualViewport.segments` is immutable]\n\n.no-margin[\n```js\n\nwindow.addEventListener(\"resize\") => {\n  const segments = window.visualViewport.segments;\n  console.log(segments.length);\n}\n```\n]\n.center.no-margin[\n  .w-90.responsive[![](./images/window-resize.png)]\n]\n\n---\n\n# A little bit of gym ü§∏‚Äç‚ôÄÔ∏è\n\n.center[\n  .w-90.responsive[![](./images/postures.png)]\n]\n\n---\n\n# Device Posture API\n### [w3.org/TR/device-posture/](https://w3.org/TR/device-posture/)\n\n- **Device**: single-screen (foldable or not), dual-screen\n- **Posture**: no-fold, laptop, flat, tent, tablet, book\n\n.center[\n.w-40.responsive[![](./images/posture-angle.svg)]\n]\n\n---\n\n# Device Posture API\n\n```js\nnavigator.devicePosture.addEventListener(\"change\", () => {\n  console.log(`The current posture is: ${navigator.devicePosture.type}!`);\n})\n```\n\n---\n\n# Device Posture API\n\n```js\nnavigator.devicePosture.addEventListener(\"change\", () => {\n  console.log(`The current posture is: ${navigator.devicePosture.type}!`);\n})\n```\n\n```css\n@media (device-posture: laptop) and (vertical-viewport-segments:2) {\n  /* Where the magic happens! */\n}\n```\n\n.center[\n.w-30.responsive[![](./images/posture-example-videocall.svg)]\n]\n\n---\n\nclass: impact, alt\n## .large[Demos]\n\n???\n- demo Olivier\n- ngx-foldable demo\n- gallery app\n- battleship\n\n---\n\nclass: impact\n## .larger[What about UI/UX?]\n\n---\n\nclass: center\n# List / details\n\n.center[\n  .w-60.responsive[![](./images/list-details.png)]\n]\n\n---\n\nclass: center\n# Companion pane\n\n.center[\n  .w-35.responsive[![](./images/vis-interact.png)]\n]\n\n???\n\n- 1 screen to view content\n- 1 screen to interact with it\n\nTwitch + comments, keyboard...\n\n---\n\nclass: center\n# Dual view\n\n.center[\n  .w-45.responsive[![](./images/mario-3ds.jpg)]\n]\n\n???\nBatteleship (Mine+yours), Mario kart (main+map)\n\n---\n\nclass: center\n# Dual view interaction\n\n.center[\n  .w-60.responsive[![](./images/dj-decks.png)]\n]\n\n???\n2 DJ mixers\n\n---\n\nclass: impact\n## .large[Setting up for development]\n\n---\n\n# Enable browser dual-screen emulation\n### [aka.ms/foldable/dev-setup](https://aka.ms/foldable/dev-setup)\n\n1. `chrome://flags` or `edge://flags`\n2. Enable **Experimental Web Platform features**\n3. Open dev tools settings\n4. In **Experiments** tab, tick **Emulation: Support dual screen mode**\n\n.center[\n  .w-70.responsive[![](./images/edge-flags.png)]\n]\n\n---\n\n# Android Surface Duo emulator\n### [aka.ms/foldable/dev-setup](https://aka.ms/foldable/dev-setup)\n\n.center[\n  .w-90.responsive[![](./images/duo-emu.png)]\n  ### ‚ö†Ô∏è *Highly recommended!*\n]\n\n---\n\nclass: middle, hide-handle\n\n.big-text.no-bg.baseline[\n```js\nconst end = {\n  message : 'Thank you!',\n  slides  : 'aka.ms/foldable-talk-ol',\n  links   : 'aka.ms/foldable-dev'\n};\n\nalert('Questions?');\n```\n]\n\n<hr class=\"hr-right more-space\">\n.right.large[\n.large.em-text[{]\n.fab.fa-twitter[] .fab.fa-github[] .fab.fa-youtube[]\n.large.em-text[}] .e[@olivierleplus]\n]\n\n---\n\nexclude: true\n\n\n# Links\n\n- https://docs.microsoft.com/en-us/dual-screen/web/css-media-spanning\n- https://docs.microsoft.com/en-us/dual-screen/web/javascript-getwindowsegments\n- https://docs.microsoft.com/en-us/dual-screen/web/emulator-device-testing\n- https://docs.microsoft.com/en-us/dual-screen/web/desktop-developer-tools\n\n",
        ratio: '16:9',
        highlightLines: true,
        countIncrementalSlides: false,
        highlightStyle: 'github'
      });
      slideshow.on('showSlide', function (slide) {
        var v = slide.properties.video;
        if (v) {
          var video = window[v];
          video = video.play ? video : video[0];
          video.currentTime = 0;
          video.play();
        }
      });
      initSync(slideshow);
      return slideshow;
    }
  </script>
  <!-- <script>
    const beerTime = new Date();
    beerTime.setHours(17);
    beerTime.setMinutes(0);
    beerTime.setSeconds(0);

    function checkBeer() {
      if (Date.now() > beerTime.getTime()) {
        const div = document.createElement('div');
        div.textContent = 'üçª';
        div.id = 'beer';
        div.setAttribute('class', 'beer animated heartBeat infinite');
        div.classList.add('beer');
        document.body.appendChild(div);
        setTimeout(() => { document.body.removeChild(div); }, 3000);
      } else {
        setTimeout(checkBeer, 1000);
      }
    }
    setTimeout(checkBeer, 1000);
  </script> -->
</head>
<body onload="slideshow = create()">
</body>
</html>