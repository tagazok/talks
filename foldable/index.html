<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Les web apps multi √©cran, c&#39;est pas sec... mais on s&#39;est jet√© √† l&#39;eau</title>
  <link rel="stylesheet" href="style.css">
  <script src="remark.min.js"></script>
  <script>
    function create() {
      var slideshow = remark.create({
        source: "title: Les web apps multi √©cran, c'est pas sec... mais on s'est jet√© √† l'eau\r\nclass: animation-fade\r\nlayout: true\r\n\r\n.twitter-handle[\r\n  @sinedied | @olivierleplus\r\n]\r\n\r\n<!--\r\n\r\n# Historique(s) 5min - Yohan\r\n- Web/RD + GameWatch/Nintendo DS\r\n* From desktop first to mobile first\r\n* demain? foldavle first?\r\n\r\n# Etat de l'art: c'est pas sec 5min - Olivier\r\n* Window Segment + CSS primitives\r\n* Device Posture\r\n+ question dev\r\n\r\n# Demo: plouf 10min - Olivier\r\nVanilla HTML/JS/CSSx\r\n\r\n# UI/patterns 5min / tous les 2 / images\r\n* discussion? qu'est ce que vous avez en tete?\r\n * list/detail\r\n * 1 ecran a la fois\r\n * twitch + comments\r\n * jeux videos/MK/bataille navale\r\n+ question dev\r\n\r\n# Comment on dev? 10min - Yohan\r\n- Tools/emulateurs + SETUP EMULATOR\r\n- Polyfills / CS JSS\r\n- Problemes\r\n+ question dev\r\n\r\n# NGX foldable/React 10min - Yohan\r\n- Demo gallery app\r\n\r\n-->\r\n\r\n---\r\n\r\nexclude: true\r\nclass: left, hide-handle, middle, overlay-grey\r\nbackground-image: url(images/duo-banner.jpg)\r\n\r\n.title-new[\r\n# .large.light-text[Multi-screen experiences]\r\n## For the mobile web\r\n]\r\n\r\n.full-layer.who.text-right.small.middle.light-text[\r\n  .ms.responsive[![](images/ms-full-logo.svg)]\r\n  |\r\n  Yohan Lasorsa\r\n  |\r\n  Olivier Leplus\r\n]\r\n\r\n---\r\n\r\nclass: left, hide-handle\r\nbackground-image: url(images/plouf.jpg)\r\n\r\n.title[\r\n# .large.light-text[Les web apps multi-√©crans]\r\n## C'est pas sec... mais on s'est jet√© √† l'eau!\r\n]\r\n\r\n.full-layer.who.text-right.small.middle.light-text[\r\n  .ms.responsive[![](images/ms-full-logo.svg)]\r\n  |\r\n  Yohan Lasorsa\r\n  |\r\n  Olivier Leplus\r\n]\r\n\r\n.full-layer.text-left.full-bottom.stick-left.no-margin[\r\n  .w-40.responsive[![](./images/rivieradev.svg)]\r\n]\r\n\r\n---\r\n\r\nclass: center, middle, hide-handle\r\n# Who are we?\r\n\r\n.table.row.middle.center[\r\n.col-2[]\r\n.col-4.center[\r\n  .w-70.responsive.avatar.bounceInLeft.animated[![](images/photo.jpg)]\r\n\r\n  **Yohan Lasorsa**<br>\r\n  .fab.fa-twitter[] .e[@sinedied]\r\n]\r\n.col-4.center[\r\n  .w-70.responsive.avatar.bounceInUp.animated[![](images/olivier.jpg)]\r\n\r\n  **Olivier Leplus**<br>\r\n  .fab.fa-twitter[] .e[@olivierleplus]\r\n]\r\n]\r\n\r\n---\r\n\r\nclass: center, middle, hide-handle\r\n# Who are we?\r\n\r\n.table.row.middle.center[\r\n.col-2[]\r\n.col-4.center[\r\n  .w-70.responsive.avatar[![](images/photo.jpg)]\r\n\r\n  **Yohan Lasorsa**<br>\r\n  .fab.fa-twitter[] .e[@sinedied]\r\n]\r\n.col-4.center[\r\n  .w-70.responsive.avatar[![](images/olivier.jpg)]\r\n\r\n  **Olivier Leplus**<br>\r\n  .fab.fa-twitter[] .e[@olivierleplus]\r\n]\r\n]\r\n\r\n.large[üëâ [aka.ms/foldable-feedback](https://aka.ms/foldable-feedback) üëà]\r\n\r\n---\r\n\r\nclass: impact\r\n## .big.book[Once upon a time...]\r\n\r\n---\r\n\r\nclass: contain\r\nbackground-image: url(./images/web-before.jpg)\r\n\r\n???\r\n~ 1960-2000\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[Then came new devices...]\r\n\r\n---\r\n\r\nclass: contain, hide-handle\r\nbackground-image: url(./images/web-after.jpg)\r\n\r\n???\r\n- 2007 Iphone\r\n- 2008 Android\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[And someone had an idea.]\r\n\r\n---\r\n\r\nclass: middle, center\r\n.script.big-text[\r\n.quote[\r\n> .book.small[Your web apps shall be responsive!]\r\n]\r\n]\r\n\r\n???\r\n2010\r\n\r\n---\r\n\r\nclass: impact\r\n## .bit-smaller.book[Responsive web design was born.]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[But something wasn't right!]\r\n\r\n---\r\n\r\nclass: contain\r\nbackground-image: url(./images/desktop-first.png)\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[Someone else had *another* idea.]\r\n\r\n---\r\n\r\nbackground-image: url(./images/drake-mobile.png)\r\n\r\n???\r\n2011\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[Then came new devices.]\r\n\r\n---\r\n\r\nclass: contain\r\nbackground-image: url(./images/gw.jpg)\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[Not this one.]\r\n## .small.book[( It's older than the web! )]\r\n\r\n???\r\n1982\r\n\r\n---\r\n\r\nclass: contain\r\nbackground-image: url(./images/ds-fat.jpg)\r\n\r\n---\r\n\r\nclass: impact\r\n\r\n.row.table.middle[\r\n.col-1[\r\n  .big[.big[.big.book[(]]]\r\n]\r\n.col-10[\r\n## .book.bit-smaller[Still a bit wrong.]\r\n## .small.book[This one came before the mobile web.]\r\n]\r\n.col-1[\r\n  .big[.big[.big.book[)]]]\r\n]\r\n]\r\n\r\n???\r\nNDS: 2004\r\n\r\n---\r\n\r\nclass: contain\r\nbackground-image: url(./images/3ds.jpg)\r\n\r\n???\r\n3DS: 2010, has web browser!\r\n\r\n---\r\n\r\nclass: contain\r\nbackground-image: url(./images/duo.jpg)\r\n\r\n???\r\n2020\r\n\r\n---\r\n\r\nbackground-image: url(./images/new-devices-dual.jpg)\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[What if...]\r\n\r\n---\r\n\r\nclass: contain, dark, hide-handle\r\nbackground-image: url(./images/dual-first.jpg)\r\n\r\n---\r\n\r\nclass: impact\r\n## .large.book[Or not.]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[Back to now.]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[So, where to begin?]\r\n\r\n---\r\n\r\nclass: middle, center\r\n# Another responsive design target?\r\n\r\n.center[\r\n  .responsive[![](./images/responsive.png)]\r\n]\r\n\r\n---\r\n\r\nclass: small-handle, center\r\n# So, media queries it is!\r\n\r\n```css\r\n@media (screen-spanning: single-fold-vertical) { ... }\r\n@media (screen-spanning: single-fold-horizontal) { ... }\r\n\r\n```\r\n\r\n.center[\r\n  .w-60.responsive[![](./images/spanning-media-query.svg)]\r\n]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[*After community feedback...*]\r\n\r\n---\r\n\r\nclass: small-handle, center\r\n# Media queries forever\r\n\r\n.col-6.float-left.space-right[\r\n```css\r\n@media (horizontal-viewport-segments:2) \r\nand \r\n@media (vertical-viewport-segments:1);\r\n```\r\n\r\n.center[\r\n  .w-70.responsive[![](./images/horizontal-viewport.png)]\r\n]\r\n]\r\n\r\n.col-6.float-left[\r\n```css\r\n@media (horizontal-viewport-segments:1) \r\nand \r\n@media (vertical-viewport-segments:2);\r\n```\r\n\r\n.center[\r\n  .w-70.responsive[![](./images/vertical-viewport.png)]\r\n]\r\n]\r\n\r\n---\r\n\r\nclass: small-handle,center\r\n# Are you crazy ? üò±\r\n```css\r\n@media (horizontal-viewport-segments:2) and @media (vertical-viewport-segments:2);\r\n```\r\n\r\n--\r\n  .w-30.responsive[![](./images/crazy-1.png)]\r\n  <br />\r\n--\r\n  .w-30.up.responsive[![](./images/crazy-2.png)]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[Let's play a game]\r\n\r\n---\r\n\r\n```css\r\n@media (horizontal-viewport-segments: 2) {\r\n  body { \r\n    background-color: yellow; \r\n  }\r\n}\r\n```\r\n.center[\r\n.responsive[![](./images/screens-list-2.png)]\r\n]\r\n\r\n---\r\n\r\n```css\r\n@media (horizontal-viewport-segments: 2) {\r\n  body { \r\n    background-color: yellow; \r\n  }\r\n}\r\n```\r\n\r\n.center[\r\n  .responsive[![](./images/screens-list-2-answer.png)]\r\n]\r\n\r\n---\r\n\r\n# CSS Primitives\r\n### [aka.ms/foldable/css-primitives](https://aka.ms/foldable/css-primitives)<br>[aka.ms/docs/css-primitives](https://aka.ms/docs/css-primitives)\r\n\r\n--\r\n\r\n.center[\r\n  .w-70.responsive[![](./images/css-env.png)]\r\n]\r\n\r\n---\r\n\r\n# Window Segments API\r\n### [aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\r\n\r\n```js\r\nconst screenSegments = window.getWindowSegments();\r\n```\r\n\r\n--\r\n\r\n<br>\r\n\r\n.center.large[\r\n  üëÜ *But that was before...*\r\n]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[*After community feedback...*]\r\n\r\n---\r\n\r\n# Visual Viewport Window Segments API\r\n### [aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\r\n\r\n```js\r\nconst screenSegments = window.visualViewport.segments;\r\n```\r\n\r\n---\r\n\r\n# Visual Viewport Window Segments API\r\n### [aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\r\n\r\n```js\r\nconst screenSegments = window.visualViewport.segments; // => null || DOMRect[]\r\n\r\nif (screenSegments.length > 1) {\r\n  // It's a foldable device !\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\n# Visual Viewport Window Segments API\r\n### [aka.ms/foldable/window-segments](https://aka.ms/foldable/window-segments)<br>[aka.ms/docs/window-segments](https://aka.ms/docs/window-segments)\r\n\r\n```js\r\nconst screenSegments = window.visualViewport.segments; // => null || DOMRect[]\r\n\r\nif (screenSegments.length > 1) {\r\n  // It's a foldable device !\r\n  for (let i = 0; i < screenSegments.length; i++) {\r\n    console.log(`Screen segment ${i}:`);\r\n    console.log('- width   : ' + screenSegments[i].width);\r\n    console.log('- height  : ' + screenSegments[i].height);\r\n    console.log('- x origin: ' + screenSegments[i].x);\r\n    console.log('- y origin: ' + screenSegments[i].y);\r\n  }\r\n}\r\n```\r\n\r\n--\r\n\r\n.full-layer.text-right.space-right[\r\n  <div style=\"height: 10em\"></div>\r\n  .w-20.responsive[![](./images/diff-screens.png)]\r\n]\r\n\r\n---\r\n\r\n# .small[`window.visualViewport.segments` is immutable]\r\n\r\n.no-margin[\r\n```js\r\n\r\nwindow.addEventListener(\"resize\") => {\r\n  const segments = window.visualViewport.segments;\r\n  console.log(segments.length);\r\n}\r\n```\r\n]\r\n.center.no-margin[\r\n  .w-90.responsive[![](./images/window-resize.png)]\r\n]\r\n\r\n---\r\n\r\n# A little bit of gym ü§∏‚Äç‚ôÄÔ∏è\r\n\r\n.center[\r\n  .w-90.responsive[![](./images/postures.png)]\r\n]\r\n\r\n---\r\n\r\n# Device Posture API\r\n### [w3.org/TR/device-posture/](https://w3.org/TR/device-posture/)\r\n\r\n- **Device**: single-screen (foldable or not), dual-screen\r\n- **Posture**: no-fold, laptop, flat, tent, tablet, book\r\n\r\n.center[\r\n.w-40.responsive[![](./images/posture-angle.svg)]\r\n]\r\n\r\n---\r\n\r\n# Device Posture API\r\n\r\n```js\r\nnavigator.devicePosture.addEventListener(\"change\", () => {\r\n  console.log(`The current posture is: ${navigator.devicePosture.type}!`);\r\n})\r\n```\r\n\r\n---\r\n\r\n# Device Posture API\r\n\r\n```js\r\nnavigator.devicePosture.addEventListener(\"change\", () => {\r\n  console.log(`The current posture is: ${navigator.devicePosture.type}!`);\r\n})\r\n```\r\n\r\n```css\r\n@media (device-posture: laptop) and (screen-spanning: single-fold-horizontal) {\r\n  /* Where the magic happens! */\r\n}\r\n```\r\n\r\n.center[\r\n.w-30.responsive[![](./images/posture-example-videocall.svg)]\r\n]\r\n\r\n---\r\n\r\nclass: impact, alt\r\n## .large[Demos]\r\n\r\n???\r\n- demo Olivier\r\n- ngx-foldable demo\r\n- gallery app\r\n- battleship\r\n\r\n---\r\n\r\nclass: impact\r\n## .larger[What about UI/UX?]\r\n\r\n---\r\n\r\nclass: middle, center\r\n# Design patterns? ü§î\r\n\r\n???\r\nQuelles sont vos id√©es?\r\n\r\n---\r\n\r\nclass: center\r\n# List / details\r\n\r\n.center[\r\n  .w-60.responsive[![](./images/list-details.png)]\r\n]\r\n\r\n---\r\n\r\nclass: center\r\n# Companion pane\r\n\r\n.center[\r\n  .w-35.responsive[![](./images/vis-interact.png)]\r\n]\r\n\r\n???\r\n\r\n- 1 screen to view content\r\n- 1 screen to interact with it\r\n\r\nTwitch + comments, keyboard...\r\n\r\n---\r\n\r\nclass: center\r\n# Dual view\r\n\r\n.center[\r\n  .w-45.responsive[![](./images/mario-3ds.jpg)]\r\n]\r\n\r\n???\r\nBatteleship (Mine+yours), Mario kart (main+map)\r\n\r\n---\r\n\r\nclass: center\r\n# Dual view interaction\r\n\r\n.center[\r\n  .w-60.responsive[![](./images/dj-decks.png)]\r\n]\r\n\r\n???\r\n2 DJ mixers\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[Setting up for development]\r\n\r\n---\r\n\r\n# Enable browser dual-screen emulation\r\n### [aka.ms/foldable/dev-setup](https://aka.ms/foldable/dev-setup)\r\n\r\n1. `chrome://flags` or `edge://flags`\r\n2. Enable **Experimental Web Platform features**\r\n3. Open dev tools settings\r\n4. In **Experiments** tab, tick **Emulation: Support dual screen mode**\r\n\r\n.center[\r\n  .w-70.responsive[![](./images/edge-flags.png)]\r\n]\r\n\r\n---\r\n\r\n# Android Surface Duo emulator\r\n### [aka.ms/foldable/dev-setup](https://aka.ms/foldable/dev-setup)\r\n\r\n.center[\r\n  .w-90.responsive[![](./images/duo-emu.png)]\r\n  ### ‚ö†Ô∏è *Highly recommended!*\r\n]\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[About polyfills...]\r\n\r\n---\r\n\r\nclass: contain, small-handle\r\nbackground-image: url(./images/polyfills.jpg)\r\n\r\n---\r\n\r\nclass: center\r\n# Current status\r\n\r\n<br>\r\n\r\n| Feature | Implementation | Polyfill\r\n|----------------|:-----------------:|:---:|\r\n| CSS Spanning | ‚úÖ üß™ | ‚úÖ |\r\n| Window Segments | ‚úÖ üß™ | ‚úÖ |\r\n| Device Posture | ‚õî | ‚úÖ ‚úã |\r\n| CSS Viewport Window Segments | ‚õî | ‚õî |\r\n\r\n---\r\n\r\nclass: impact\r\n## .large[What about some code?]\r\n\r\n---\r\n\r\nclass: full, middle, center\r\nbackground-image: url(./images/dive2.jpg)\r\n\r\n# Let's dive in!\r\n\r\n???\r\n\r\n- ngx-foldable github page\r\n- Gallery app source code\r\n\r\n---\r\n\r\nclass: middle, hide-handle\r\n\r\n.big-text.no-bg.baseline[\r\n```js\r\nconst end = {\r\n  message : 'Thank you!',\r\n  slides  : 'bit.ly/foldable-dev',\r\n  links   : 'aka.ms/foldable-dev',\r\n  feedback: 'aka.ms/foldable-feedback'\r\n};\r\n\r\nalert('Questions?');\r\n```\r\n]\r\n\r\n<hr class=\"hr-right more-space\">\r\n.right.large[\r\n.large.em-text[{]\r\n.fab.fa-twitter[] .fab.fa-github[] .fab.fa-dev[]\r\n.large.em-text[}] .e[@sinedied] .em-text[|] .e[@olivierleplus]\r\n]\r\n\r\n---\r\n\r\nexclude: true\r\n\r\n\r\n# Links\r\n\r\n- https://docs.microsoft.com/en-us/dual-screen/web/css-media-spanning\r\n- https://docs.microsoft.com/en-us/dual-screen/web/javascript-getwindowsegments\r\n- https://docs.microsoft.com/en-us/dual-screen/web/emulator-device-testing\r\n- https://docs.microsoft.com/en-us/dual-screen/web/desktop-developer-tools\r\n\r\n",
        ratio: '16:9',
        highlightLines: true,
        countIncrementalSlides: false,
        highlightStyle: 'github'
      });
      slideshow.on('showSlide', function (slide) {
        var v = slide.properties.video;
        if (v) {
          var video = window[v];
          video = video.play ? video : video[0];
          video.currentTime = 0;
          video.play();
        }
      });
      return slideshow;
    }
  </script>
  <!-- <script>
    const beerTime = new Date();
    beerTime.setHours(17);
    beerTime.setMinutes(0);
    beerTime.setSeconds(0);

    function checkBeer() {
      if (Date.now() > beerTime.getTime()) {
        const div = document.createElement('div');
        div.textContent = 'üçª';
        div.id = 'beer';
        div.setAttribute('class', 'beer animated heartBeat infinite');
        div.classList.add('beer');
        document.body.appendChild(div);
        setTimeout(() => { document.body.removeChild(div); }, 3000);
      } else {
        setTimeout(checkBeer, 1000);
      }
    }
    setTimeout(checkBeer, 1000);
  </script> -->
</head>
<body onload="slideshow = create()">
</body>
</html>